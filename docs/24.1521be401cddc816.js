"use strict";(self.webpackChunkkontrolwork22=self.webpackChunkkontrolwork22||[]).push([[24],{3024:(M,s,n)=>{n.r(s),n.d(s,{OrderModule:()=>k});var m=n(6895),d=n(646),t=n(433),a=n(8505),p=n(9751),u=n(8256),f=n(62),_=n(773);function v(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.qZA())}function g(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b"),u.qZA())}function h(e,o){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,v,2,0,"div",28),u.YNc(2,g,2,0,"div",28),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==r.firstName||null==r.firstName.errors?null:r.firstName.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.firstName||null==r.firstName.errors?null:r.firstName.errors.pattern)}}function x(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.qZA())}function Z(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b"),u.qZA())}function C(e,o){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,x,2,0,"div",28),u.YNc(2,Z,2,0,"div",28),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==r.lastName||null==r.lastName.errors?null:r.lastName.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.lastName||null==r.lastName.errors?null:r.lastName.errors.pattern)}}function N(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.qZA())}function E(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b \u0438 +"),u.qZA())}function T(e,o){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,N,2,0,"div",28),u.YNc(2,E,2,0,"div",28),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.phone||null==r.phone.errors?null:r.phone.errors.pattern)}}function A(e,o){1&e&&(u.TgZ(0,"div",27),u._uU(1," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 "),u.qZA())}function F(e,o){1&e&&(u.TgZ(0,"div",27),u._uU(1," \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. "),u.qZA())}function b(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.qZA())}function y(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0418\u043d\u0434\u0435\u043a\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 6 \u0446\u0438\u0444\u0440"),u.qZA())}function q(e,o){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,b,2,0,"div",28),u.YNc(2,y,2,0,"div",28),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==r.zip||null==r.zip.errors?null:r.zip.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.zip||null==r.zip.errors?null:r.zip.errors.pattern)}}function O(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.qZA())}function B(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e: \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0434\u0435\u0444\u0438\u0441 \u0438 \u0441\u043b\u0435\u0448!"),u.qZA())}function I(e,o){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,O,2,0,"div",28),u.YNc(2,B,2,0,"div",28),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==r.address||null==r.address.errors?null:r.address.errors.pattern)}}function U(e,o){if(1&e){const r=u.EpF();u.TgZ(0,"form",4)(1,"div",5)(2,"p",6),u._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA()(),u.TgZ(4,"div",7)(5,"label",8),u._uU(6,"\u0418\u043c\u044f"),u.qZA(),u._UZ(7,"input",9),u.YNc(8,h,3,2,"div",10),u.qZA(),u.TgZ(9,"div",7)(10,"label",11),u._uU(11,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(12,"input",12),u.YNc(13,C,3,2,"div",10),u.qZA(),u.TgZ(14,"div",7)(15,"label",13),u._uU(16,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(17,"input",14),u.YNc(18,T,3,2,"div",10),u.qZA(),u.TgZ(19,"div",7)(20,"label",15),u._uU(21,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(22,"input",16),u.YNc(23,A,2,0,"div",10),u.qZA(),u.TgZ(24,"div",7)(25,"label",15),u._uU(26,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(27,"input",17),u.YNc(28,F,2,0,"div",10),u.qZA(),u.TgZ(29,"div",7)(30,"label",18),u._uU(31,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(32,"input",19),u.YNc(33,q,3,2,"div",10),u.qZA(),u.TgZ(34,"div",20)(35,"label",21),u._uU(36,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(37,"input",22),u.YNc(38,I,3,2,"div",10),u.qZA(),u.TgZ(39,"div",20)(40,"label",21),u._uU(41,"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),u.TgZ(42,"small"),u._uU(43,"(\u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"),u.qZA()(),u._UZ(44,"input",23),u.qZA(),u.TgZ(45,"div",24)(46,"button",25),u.NdJ("click",function(){u.CHM(r);const i=u.oxw();return u.KtG(i.sendForm())}),u.TgZ(47,"span",26),u._uU(48,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA()()()()}if(2&e){const r=u.oxw();u.Q6J("formGroup",r.orderForm),u.xp6(8),u.Q6J("ngIf",(null==r.firstName?null:r.firstName.invalid)&&((null==r.firstName?null:r.firstName.touched)||(null==r.firstName?null:r.firstName.dirty))),u.xp6(5),u.Q6J("ngIf",(null==r.lastName?null:r.lastName.invalid)&&((null==r.lastName?null:r.lastName.touched)||(null==r.lastName?null:r.lastName.dirty))),u.xp6(5),u.Q6J("ngIf",(null==r.phone?null:r.phone.invalid)&&((null==r.phone?null:r.phone.touched)||(null==r.phone?null:r.phone.dirty))),u.xp6(5),u.Q6J("ngIf",(null==r.product?null:r.product.invalid)&&(null==r.product||null==r.product.errors?null:r.product.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==r.country?null:r.country.invalid)&&((null==r.country?null:r.country.touched)||(null==r.country?null:r.country.dirty))&&(null==r.country||null==r.country.errors?null:r.country.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==r.zip?null:r.zip.invalid)&&((null==r.zip?null:r.zip.touched)||(null==r.zip?null:r.zip.dirty))),u.xp6(5),u.Q6J("ngIf",(null==r.address?null:r.address.invalid)&&((null==r.address?null:r.address.touched)||(null==r.address?null:r.address.dirty))),u.xp6(8),u.Q6J("disabled",r.orderForm.invalid||r.requestStatus)}}function J(e,o){1&e&&(u.TgZ(0,"div",29)(1,"div",30)(2,"p",31),u._uU(3,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA(),u.TgZ(4,"p",32),u._uU(5,"\u041c\u044b \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0412\u0430\u043c \u0442\u043e\u0432\u0430\u0440 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f!"),u.qZA()()())}function Y(e,o){if(1&e&&(u.TgZ(0,"p",32),u._uU(1),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.hij("\u041e\u0442\u0432\u0435\u0442 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ",r.orderErrorMessage,"")}}function z(e,o){if(1&e&&(u.TgZ(0,"div",29)(1,"div",33)(2,"p",31),u._uU(3,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"),u.qZA(),u.YNc(4,Y,2,1,"p",34),u.TgZ(5,"p",32),u._uU(6,"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),u.qZA()()()),2&e){const r=u.oxw();u.xp6(4),u.Q6J("ngIf",r.orderErrorMessage)}}const Q=[{path:"",component:(()=>{class e{constructor(r,l,i,D){this.fb=r,this.commonService=l,this.productService=i,this.router=D,this.orderConfirm=!1,this.orderError=!1,this.orderErrorMessage="",this.requestStatus=!1,this.subscriptionOrder=null,this.subscriptionError=null,this.orderForm=this.fb.group({firstName:["",[t.kI.required,t.kI.pattern("^[\u0410-\u042fA-Z][\u0430-\u044fa-z]+$")]],lastName:["",[t.kI.required,t.kI.pattern("^[\u0410-\u042fA-Z][\u0430-\u044fa-z]+$")]],phone:["",[t.kI.required,t.kI.pattern("^[+]{0,1}[0-9]{11}$")]],country:["",t.kI.required],zip:["",[t.kI.required,t.kI.pattern("^[0-9]{6}$")]],product:[""],address:["",[t.kI.required,t.kI.pattern("^[0-9\u0430-\u044f\u0410-\u042f\\s\\-\\/\\\\]+$")]],comment:[""]})}get firstName(){return this.orderForm.get("firstName")}get lastName(){return this.orderForm.get("lastName")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get zip(){return this.orderForm.get("zip")}get product(){return this.orderForm.get("product")}get address(){return this.orderForm.get("address")}ngOnInit(){this.commonService.product?this.orderForm.patchValue({product:this.commonService.product}):this.router.navigate(["/"])}sendForm(){!this.orderForm.valid||(this.requestStatus=!0,this.subscriptionOrder=this.productService.createOrder(this.orderForm.get("firstName").value,this.orderForm.get("lastName").value,this.orderForm.get("phone").value,this.orderForm.get("country").value,this.orderForm.get("zip").value,this.orderForm.get("product").value,this.orderForm.get("address").value,this.orderForm.get("comment").value).pipe((0,a.b)(()=>this.requestStatus=!1)).subscribe(r=>{r.success?this.orderConfirm=!0:(this.orderConfirm=!1,this.orderError=!0,r&&r.message&&(this.orderErrorMessage=r.message),this.subscriptionOrder=new p.y(l=>{const i=setTimeout(()=>{l.next()},3e3);return{unsubscribe:()=>{clearTimeout(i)}}}).subscribe(()=>{this.orderConfirm=!1,this.orderError=!1}))}))}ngOnDestroy(){this.subscriptionOrder?.unsubscribe(),this.subscriptionError?.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(u.Y36(t.qu),u.Y36(f.v),u.Y36(_.M),u.Y36(d.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["order-component"]],decls:5,vars:3,consts:[[1,"container"],[1,"row","mb-5","justify-content-center"],["novalidate","","class","row col-sm-12 col-md-10 col-lg-8 col-xxl-6 mb-lg-2 gy-3 gx-4 px-0 text-black",3,"formGroup",4,"ngIf"],["class","row col-sm-12 col-md-10 col-lg-8 col-xxl-6 mb-lg-2 gy-3 gx-4 px-0 text-black",4,"ngIf"],["novalidate","",1,"row","col-sm-12","col-md-10","col-lg-8","col-xxl-6","mb-lg-2","gy-3","gx-4","px-0","text-black",3,"formGroup"],[1,"col","col-12"],[1,"h2","mb-md-5","mb-3","mt-4","text-center","fw-bold","lh-1"],[1,"col","col-12","col-sm-4"],["for","fname",1,"mb-2","lh-1"],["type","text","formControlName","firstName","id","fname",1,"form-control","rounded-1","lh-1","py-2"],["class","invalid-feedback",4,"ngIf"],["for","lname",1,"mb-2","lh-1"],["type","text","formControlName","lastName","id","lname",1,"form-control","rounded-1","lh-1","py-2"],["for","phone",1,"mb-2","lh-1"],["type","text","formControlName","phone","id","phone",1,"form-control","rounded-1","lh-1","py-2"],["for","land",1,"mb-2","lh-1"],["readonly","","type","text","formControlName","product","id","product",1,"form-control","rounded-1","w-100","lh-1","py-2"],["type","text","formControlName","country","id","land",1,"form-control","rounded-1","w-100","lh-1","py-2"],["for","index",1,"mb-2","lh-1"],["type","text","formControlName","zip","id","index",1,"form-control","rounded-1","w-100","lh-1","py-2"],[1,"col","col-12","col-sm-12"],["for","adress",1,"mb-2","lh-1"],["type","text","formControlName","address","id","adress",1,"form-control","rounded-1","w-100","lh-1","py-2"],["type","text","formControlName","comment","id","comment",1,"form-control","rounded-1","w-100","lh-1","py-2"],[1,"col","mt-4"],["type","button","id","btnSend",1,"btn","btn-primary","px-4","rounded-1",3,"disabled","click"],[1,"px-3"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row","col-sm-12","col-md-10","col-lg-8","col-xxl-6","mb-lg-2","gy-3","gx-4","px-0","text-black"],[1,"col","col-12","mt-4","text-center","text-success"],[1,"h2","fw-bold","lh-1"],[1,"h4","fw-bold","lh-1"],[1,"col","col-12","mx-5","px-5","text-center","text-danger"],["class","h4 fw-bold lh-1 ",4,"ngIf"]],template:function(r,l){1&r&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,U,49,9,"form",2),u.YNc(3,J,6,0,"div",3),u.YNc(4,z,7,1,"div",3),u.qZA()()),2&r&&(u.xp6(2),u.Q6J("ngIf",!l.orderConfirm&&!l.orderError),u.xp6(1),u.Q6J("ngIf",l.orderConfirm),u.xp6(1),u.Q6J("ngIf",!l.orderConfirm&&l.orderError))},dependencies:[m.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u]}),e})()}];let c=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[d.Bz.forChild(Q),d.Bz]}),e})();var w=n(4466);let k=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[m.ez,d.Bz,w.m,t.u5,t.UX,c,c]}),e})()}}]);